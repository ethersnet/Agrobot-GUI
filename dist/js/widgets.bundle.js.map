{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/ts/classmodel/widget.ts","src/ts/helpers/html.ts","src/widgets/diagnostics_viewer/main.ts","src/widgets/log_reader/main.ts","src/widgets/new_widget/main.ts","src/widgets/topic_publisher/main.ts"],"names":[],"mappings":"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","file":"widgets.bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import { WidgetInterface } from '../interface/widget';\n\nexport class WidgetParent implements WidgetInterface {\n  public widgetInstanceId: number;\n  public selector: string;\n\n  constructor(widgetInstanceId: number) {\n    this.widgetInstanceId = widgetInstanceId;\n    this.setSelector();\n  }\n\n  public clbkCreated(): void {\n  }\n\n  public clbkResized(): void {\n  }\n\n  public clbkMoved(): void {\n  }\n\n  public clbkTab(): void {\n  }\n\n  public setSelector(): void {\n    this.selector = \".jsWidgetContainer[data-widget-instance-id=\" + this.widgetInstanceId + \"]\";\n  }\n}","///<reference path=\"../typings/tsd.d.ts\" />\n\nexport namespace Helper {\n  export class FormHelper {\n    public typeDefToHtmlForm (elem: any, name: string, formName: string, type: string, typeDefs: any, level: number = 0) {\n      let typeDef: any = this.getTypeDef(type, typeDefs);\n      let iname: string, itype: string;\n      let hType: any = $(\"<span style='color:#777;'>&nbsp;(\" + type + \")</span>\").prop('outerHTML');\n      if (typeDef == null) {\n        let input = this.generateInputField(formName, type);\n        $(elem).append($(\"<p style='padding-left:\" + (level * 20) + \"px'>\" + name + hType + input + \"</p>\"));\n      } else if (typeDef.fieldnames.length == 0) {\n        $(elem).append($(\"<p style='padding-left:\" + (level * 20) + \"px'>\" + name + hType + \"</p>\"));\n      } else {\n        $(elem).append($(\"<p style='padding-left:\" + (level * 20) + \"px'>\" + name + hType + \"</p>\"));\n        let i: any;\n        for (i in typeDef.fieldnames) {\n          iname = typeDef.fieldnames[i];\n          itype = typeDef.fieldtypes[i];\n          let prefix = formName != \"\" ? formName + \".\" : \"\";\n          this.typeDefToHtmlForm(elem, iname, prefix + iname, itype, typeDefs, level + 1);\n        }\n      }\n    }\n\n    private getTypeDef (type: string, typeDefs: any[], request: number = 1) {\n      let typeDef: any;\n      let i: any;\n      let filtered: any[] = typeDefs.filter((value: any, index: number, array: any[]) => { return type == value.type; });\n      if (filtered.length > 0) return filtered[0];\n      return null;\n    }\n    private generateInputField(name: string, type: string) {\n      let aInt: string[] = [\"int8\", \"uint8\", \"int16\", \"uint16\", \"int32\", \"uint32\", \"int64\", \"uint64\"];\n      let aFloat: string[] = [\"float32\", \"float64\"];\n      let aString: string[] = [\"string\"];\n      let aTime: string[] = [\"time\", \"duration\"];\n      let aBool: string[] = [\"bool\"];\n\n      if (aInt.indexOf(type) != -1) {\n        return $(\"<input type='number' name='\" + name + \"' value='' />\").prop('outerHTML');\n      }\n      else if (aFloat.indexOf(type) != -1) {\n        return $(\"<input type='number' name='\" + name + \"' value='' />\").prop('outerHTML');\n      }\n      else if (aString.indexOf(type) != -1) {\n        return $(\"<input type='text' name='\" + name + \"' value='' />\").prop('outerHTML');\n      }\n      else if (aTime.indexOf(type) != -1) {\n        return $(\"<input type='number' name='\" + name + \"' value='' />\").prop('outerHTML');\n      }\n      else if (aBool.indexOf(type) != -1) {\n        return $(\"<input type='checkbox' name='\" + name + \"' value='' />\").prop('outerHTML');\n      } else {\n        throw new Error(\"Unknown primitive type: \" + type);\n      }\n    };\n  }\n}","///<reference path=\"../../ts/typings/tsd.d.ts\" />\n/*\nimport { WidgetParent } from '../../ts/classmodel/widget'\n\ndeclare var ros: ROSLIB.Ros;\n\nclass WidgetNewWidget extends WidgetParent {\n  constructor(widgetInstanceId: number) {\n    super(widgetInstanceId);\n    this.topic = new ROSLIB.Topic({ ros: ros, name: \"\", messageType: \"\" });\n  }\n\n  // Properties\n  public topic: ROSLIB.Topic;\n\n  // Mandatory callbacks\n  clbkCreated(): void {\n  }\n  clbkResized(): void {\n  }\n  clbkMoved(): void {\n  }\n  clbkTab(): void {\n  }\n  clbkConfirm(): void {\n  }\n\n  // Subscription Callbacks\n  public on_topic_selected(selectedTopic: string): void {\n    this.topic.unsubscribe();\n    this.topic.name = selectedTopic;\n    var elem = $(this.selector).find(\".content\");\n    $(elem).html(\"\");\n\n    if (selectedTopic == \"\") return;\n\n    ros.getTopicType(selectedTopic, (type): void => {\n      this.topic.messageType = type;\n      $(this.selector).find(\"p.name\").html(selectedTopic);\n      $(this.selector).find(\"p.type\").html(type);\n      this.topic.subscribe(this.callback);\n    }, (e): void => {\n      throw new Error(e);\n    });\n  }\n\n  callback = (message: any): void => {\n    $(this.selector).find(\"div.content\").html(JSON.stringify(message, null, 4));\n  }\n}\n\nwindow[\"WidgetNewWidget\"] = WidgetNewWidget;\n*/","///<reference path=\"../../ts/typings/tsd.d.ts\" />\n/*\nimport { WidgetParent } from '../../ts/classmodel/widget'\n\ndeclare var ros: ROSLIB.Ros;\n\nclass WidgetNewWidget extends WidgetParent {\n  constructor(widgetInstanceId: number) {\n    super(widgetInstanceId);\n    this.topic = new ROSLIB.Topic({ ros: ros, name: \"\", messageType: \"\" });\n  }\n\n  // Properties\n  public topic: ROSLIB.Topic;\n\n  // Mandatory callbacks\n  clbkCreated(): void {\n  }\n  clbkResized(): void {\n  }\n  clbkMoved(): void {\n  }\n  clbkTab(): void {\n  }\n  clbkConfirm(): void {\n  }\n\n  // Subscription Callbacks\n  public on_topic_selected(selectedTopic: string): void {\n    this.topic.unsubscribe();\n    this.topic.name = selectedTopic;\n    var elem = $(this.selector).find(\".content\");\n    $(elem).html(\"\");\n\n    if (selectedTopic == \"\") return;\n\n    ros.getTopicType(selectedTopic, (type): void => {\n      this.topic.messageType = type;\n      $(this.selector).find(\"p.name\").html(selectedTopic);\n      $(this.selector).find(\"p.type\").html(type);\n      this.topic.subscribe(this.callback);\n    }, (e): void => {\n      throw new Error(e);\n    });\n  }\n\n  callback = (message: any): void => {\n    $(this.selector).find(\"div.content\").html(JSON.stringify(message, null, 4));\n  }\n}\n\nwindow[\"WidgetNewWidget\"] = WidgetNewWidget;\n*/","///<reference path=\"../../ts/typings/tsd.d.ts\" />\n\nimport { WidgetParent } from '../../ts/classmodel/widget'\n\ndeclare var ros: ROSLIB.Ros;\n\nclass WidgetNewWidget extends WidgetParent {\n  constructor(widgetInstanceId: number) {\n    super(widgetInstanceId);\n    this.topic = new ROSLIB.Topic({ ros: ros, name: \"\", messageType: \"\" });\n  }\n\n  // Properties\n  public topic: ROSLIB.Topic;\n\n  // Mandatory callbacks\n  clbkCreated(): void {\n  }\n  clbkResized(): void {\n  }\n  clbkMoved(): void {\n  }\n  clbkTab(): void {\n  }\n  clbkConfirm(): void {\n  }\n\n  // Subscription Callbacks\n  public on_topic_selected(selectedTopic: string): void {\n    this.topic.unsubscribe();\n    this.topic.name = selectedTopic;\n    var elem = $(this.selector).find(\".content\");\n    $(elem).html(\"\");\n\n    if (selectedTopic == \"\") return;\n\n    ros.getTopicType(selectedTopic, (type): void => {\n      this.topic.messageType = type;\n      $(this.selector).find(\"p.name\").html(selectedTopic);\n      $(this.selector).find(\"p.type\").html(type);\n      this.topic.subscribe(this.callback);\n    }, (e): void => {\n      throw new Error(e);\n    });\n  }\n\n  callback = (message: any): void => {\n    $(this.selector).find(\"div.content\").html(JSON.stringify(message, null, 4));\n  }\n}\n\nwindow[\"WidgetNewWidget\"] = WidgetNewWidget;\n","///<reference path=\"../../ts/typings/tsd.d.ts\" />\n\nimport { WidgetParent } from '../../ts/classmodel/widget'\nimport { Helper } from '../../ts/helpers/html';\n\ndeclare var ros: ROSLIB.Ros;\n\nclass WidgetTopicPublisher extends WidgetParent {\n  constructor(widgetInstanceId: number) {\n    super(widgetInstanceId);\n    this.topic = new ROSLIB.Topic({ ros: ros, name: \"\", messageType: \"\" });\n  }\n  // Mandatory callbacks\n  clbkCreated(): void {\n    $(document).delegate(this.selector + \" .jsWidgetTopicPublisherOnce\", 'click', (e) => {\n      $(this.selector).find(\".jsWidgetTopicPublisherOnce\").attr(\"disabled\", \"disabled\");\n      $(this.selector).find(\".jsWidgetTopicPublisherPublish\").attr(\"disabled\", \"disabled\");\n      $(this.selector).find(\".jsWidgetTopicPublisherStop\").attr(\"disabled\", \"disabled\");\n      this.publishOnce();\n      $(this.selector).find(\".jsWidgetTopicPublisherOnce\").removeAttr(\"disabled\");\n      $(this.selector).find(\".jsWidgetTopicPublisherPublish\").removeAttr(\"disabled\");\n      $(this.selector).find(\".jsWidgetTopicPublisherStop\").removeAttr(\"disabled\");\n    });\n    $(document).delegate(this.selector + \" .jsWidgetTopicPublisherPublish\", 'click', (e) => {\n      $(this.selector).find(\".jsWidgetTopicPublisherOnce\").attr(\"disabled\", \"disabled\");\n      $(this.selector).find(\".jsWidgetTopicPublisherPublish\").attr(\"disabled\", \"disabled\");\n      $(this.selector).find(\".jsWidgetTopicPublisherStop\").removeAttr(\"disabled\");\n      this.publish();\n    });\n    $(document).delegate(this.selector + \" .jsWidgetTopicPublisherStop\", 'click', (e) => {\n      $(this.selector).find(\".jsWidgetTopicPublisherOnce\").removeAttr(\"disabled\");\n      $(this.selector).find(\".jsWidgetTopicPublisherPublish\").removeAttr(\"disabled\");\n      $(this.selector).find(\".jsWidgetTopicPublisherStop\").removeAttr(\"disabled\");\n      this.stop();\n    });\n  }\n  clbkResized(): void {\n  }\n  clbkMoved(): void {\n  }\n  clbkTab(): void {\n  }\n  clbkConfirm(): void {\n    ros.getMessageDetails(this.topicType, (typeDefs) => {\n      var elem = $(this.selector + \" .form form\").html(\"\");\n      let htmlHelper = new Helper.FormHelper();\n      $(this.selector).find(\"p.name\").html(this.topicName);\n      $(this.selector).find(\"p.type\").html(this.topicType);\n      htmlHelper.typeDefToHtmlForm(elem, \"Object\", \"formObject\", this.topicType, typeDefs, 0);\n    }, (error: any) => {\n      alert(\"Topic type not found, please try again\");\n      console.log(error);\n    });\n  }\n\n  // button callbacks\n  publishOnce(): void {\n    let obj: any = this.getObjectForm(this.selector + \" .form form\");\n    let name: string = this.topicName;\n    let messageType: string = this.topicType;\n    let publisher = new ROSLIB.Topic({\n      ros: ros,\n      name: name,\n      messageType: messageType\n    });\n    publisher.publish(obj);\n  }\n\n  public interval: any;\n  publish(): void {\n    let name: string = this.topicName;\n    let messageType: string = this.topicType;\n    let publisher = new ROSLIB.Topic({\n      ros: ros,\n      name: name,\n      messageType: messageType\n    });\n    this.interval = window.setInterval(() => { publisher.publish(this.getObjectForm(this.selector + \" .form form\")); }, 1000);\n  }\n\n  stop(): void {\n    window.clearInterval(this.interval);\n  }\n\n  // helper methods\n  getObjectForm(selector: string): any {\n    var input, name, type;\n    var tree;\n    var formObject: any = {};\n    var inputs = $(selector).find(\"input[type=text], input[type=checkbox], input[type=number]\");\n    for (var i = 0; i < inputs.length; i++) {\n      input = inputs[i];\n      name = $(input).attr(\"name\");\n      type = $(input).attr(\"type\");\n      var nameSplit = name.split('.');\n      for (let j: number = 0; j < nameSplit.length; j++) {\n        let slice = nameSplit.slice(0, (j + 1));\n        let prop: string = slice.join(\".\");\n        eval(\"if(\" + prop + \" == undefined) \" + prop + \" = {}\");\n      }\n      switch (type) {\n        case 'text':\n          eval(name + \" = '\" + $(input).val() + \"'\");\n          break;\n        case 'number':\n          eval(name + \" = \" + parseFloat($(input).val()));\n          break;\n        case 'checkbox':\n          eval(name + \" = \" + $(input).is(\":checked\")) ? 1 : 0;\n          break;\n      }\n    }\n    return formObject;\n  };\n\n  // ===== widget params =====\n  public topicName: string;\n  public topicType: string;\n  public topic: ROSLIB.Topic;\n}\n\nwindow[\"WidgetTopicPublisher\"] = WidgetTopicPublisher;\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvdHMvY2xhc3Ntb2RlbC93aWRnZXQudHMiLCJzcmMvdHMvaGVscGVycy9odG1sLnRzIiwic3JjL3dpZGdldHMvZGlhZ25vc3RpY3Nfdmlld2VyL21haW4udHMiLCJzcmMvd2lkZ2V0cy9sb2dfcmVhZGVyL21haW4udHMiLCJzcmMvd2lkZ2V0cy9uZXdfd2lkZ2V0L21haW4udHMiLCJzcmMvd2lkZ2V0cy90b3BpY19wdWJsaXNoZXIvbWFpbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUNFQTtJQUlFLFlBQVksZ0JBQXdCO1FBQ2xDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxnQkFBZ0IsQ0FBQztRQUN6QyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDckIsQ0FBQztJQUVNLFdBQVc7SUFDbEIsQ0FBQztJQUVNLFdBQVc7SUFDbEIsQ0FBQztJQUVNLFNBQVM7SUFDaEIsQ0FBQztJQUVNLE9BQU87SUFDZCxDQUFDO0lBRU0sV0FBVztRQUNoQixJQUFJLENBQUMsUUFBUSxHQUFHLDZDQUE2QyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxHQUFHLENBQUM7SUFDOUYsQ0FBQztBQUNILENBQUM7QUF4Qlksb0JBQVksZUF3QnhCLENBQUE7OztBQzFCRCwyQ0FBMkM7O0FBRTNDLElBQWlCLE1BQU0sQ0F3RHRCO0FBeERELFdBQWlCLE1BQU0sRUFBQyxDQUFDO0lBQ3ZCO1FBQ1MsaUJBQWlCLENBQUUsSUFBUyxFQUFFLElBQVksRUFBRSxRQUFnQixFQUFFLElBQVksRUFBRSxRQUFhLEVBQUUsS0FBSyxHQUFXLENBQUM7WUFDakgsSUFBSSxPQUFPLEdBQVEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDbkQsSUFBSSxLQUFhLEVBQUUsS0FBYSxDQUFDO1lBQ2pDLElBQUksS0FBSyxHQUFRLENBQUMsQ0FBQyxtQ0FBbUMsR0FB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QztnQkFDUixLQUFLLFVBQVU7b0JBQ2IsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQ3JELEtBQUssQ0FBQztZQUNWLENBQUM7UUFDSCxDQUFDO1FBQ0QsTUFBTSxDQUFDLFVBQVUsQ0FBQztJQUNwQixDQUFDOztBQU1ILENBQUM7QUFFRCxNQUFNLENBQUMsc0JBQXNCLENBQUMsR0FBRyxvQkFBb0IsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImltcG9ydCB7IFdpZGdldEludGVyZmFjZSB9IGZyb20gJy4uL2ludGVyZmFjZS93aWRnZXQnO1xuXG5leHBvcnQgY2xhc3MgV2lkZ2V0UGFyZW50IGltcGxlbWVudHMgV2lkZ2V0SW50ZXJmYWNlIHtcbiAgcHVibGljIHdpZGdldEluc3RhbmNlSWQ6IG51bWJlcjtcbiAgcHVibGljIHNlbGVjdG9yOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iod2lkZ2V0SW5zdGFuY2VJZDogbnVtYmVyKSB7XG4gICAgdGhpcy53aWRnZXRJbnN0YW5jZUlkID0gd2lkZ2V0SW5zdGFuY2VJZDtcbiAgICB0aGlzLnNldFNlbGVjdG9yKCk7XG4gIH1cblxuICBwdWJsaWMgY2xia0NyZWF0ZWQoKTogdm9pZCB7XG4gIH1cblxuICBwdWJsaWMgY2xia1Jlc2l6ZWQoKTogdm9pZCB7XG4gIH1cblxuICBwdWJsaWMgY2xia01vdmVkKCk6IHZvaWQge1xuICB9XG5cbiAgcHVibGljIGNsYmtUYWIoKTogdm9pZCB7XG4gIH1cblxuICBwdWJsaWMgc2V0U2VsZWN0b3IoKTogdm9pZCB7XG4gICAgdGhpcy5zZWxlY3RvciA9IFwiLmpzV2lkZ2V0Q29udGFpbmVyW2RhdGEtd2lkZ2V0LWluc3RhbmNlLWlkPVwiICsgdGhpcy53aWRnZXRJbnN0YW5jZUlkICsgXCJdXCI7XG4gIH1cbn0iLCIvLy88cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL3RzZC5kLnRzXCIgLz5cblxuZXhwb3J0IG5hbWVzcGFjZSBIZWxwZXIge1xuICBleHBvcnQgY2xhc3MgRm9ybUhlbHBlciB7XG4gICAgcHVibGljIHR5cGVEZWZUb0h0bWxGb3JtIChlbGVtOiBhbnksIG5hbWU6IHN0cmluZywgZm9ybU5hbWU6IHN0cmluZywgdHlwZTogc3RyaW5nLCB0eXBlRGVmczogYW55LCBsZXZlbDogbnVtYmVyID0gMCkge1xuICAgICAgbGV0IHR5cGVEZWY6IGFueSA9IHRoaXMuZ2V0VHlwZURlZih0eXBlLCB0eXBlRGVmcyk7XG4gICAgICBsZXQgaW5hbWU6IHN0cmluZywgaXR5cGU6IHN0cmluZztcbiAgICAgIGxldCBoVHlwZTogYW55ID0gJChcIjxzcGFuIHN0eWxlPSdjb2xvcjojNzc3Oyc+Jm5ic3A7KFwiICsgdHlwZSArIFwiKTwvc3Bhbj5cIikucHJvcCgnb3V0ZXJIVE1MJyk7XG4gICAgICBpZiAodHlwZURlZiA9PSBudWxsKSB7XG4gICAgICAgIGxldCBpbnB1dCA9IHRoaXMuZ2VuZXJhdGVJbnB1dEZpZWxkKGZvcm1OYW1lLCB0eXBlKTtcbiAgICAgICAgJChlbGVtKS5hcHBlbmQoJChcIjxwIHN0eWxlPSdwYWRkaW5nLWxlZnQ6XCIgKyAobGV2ZWwgKiAyMCkgKyBcInB4Jz5cIiArIG5hbWUgKyBoVHlwZSArIGlucHV0ICsgXCI8L3A+XCIpKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZURlZi5maWVsZG5hbWVzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICQoZWxlbSkuYXBwZW5kKCQoXCI8cCBzdHlsZT0ncGFkZGluZy1sZWZ0OlwiICsgKGxldmVsICogMjApICsgXCJweCc+XCIgKyBuYW1lICsgaFR5cGUgKyBcIjwvcD5cIikpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJChlbGVtKS5hcHBlbmQoJChcIjxwIHN0eWxlPSdwYWRkaW5nLWxlZnQ6XCIgKyAobGV2ZWwgKiAyMCkgKyBcInB4Jz5cIiArIG5hbWUgKyBoVHlwZSArIFwiPC9wPlwiKSk7XG4gICAgICAgIGxldCBpOiBhbnk7XG4gICAgICAgIGZvciAoaSBpbiB0eXBlRGVmLmZpZWxkbmFtZXMpIHtcbiAgICAgICAgICBpbmFtZSA9IHR5cGVEZWYuZmllbGRuYW1lc1tpXTtcbiAgICAgICAgICBpdHlwZSA9IHR5cGVEZWYuZmllbGR0eXBlc1tpXTtcbiAgICAgICAgICBsZXQgcHJlZml4ID0gZm9ybU5hbWUgIT0gXCJcIiA/IGZvcm1OYW1lICsgXCIuXCIgOiBcIlwiO1xuICAgICAgICAgIHRoaXMudHlwZURlZlRvSHRtbEZvcm0oZWxlbSwgaW5hbWUsIHByZWZpeCArIGluYW1lLCBpdHlwZSwgdHlwZURlZnMsIGxldmVsICsgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFR5cGVEZWYgKHR5cGU6IHN0cmluZywgdHlwZURlZnM6IGFueVtdLCByZXF1ZXN0OiBudW1iZXIgPSAxKSB7XG4gICAgICBsZXQgdHlwZURlZjogYW55O1xuICAgICAgbGV0IGk6IGFueTtcbiAgICAgIGxldCBmaWx0ZXJlZDogYW55W10gPSB0eXBlRGVmcy5maWx0ZXIoKHZhbHVlOiBhbnksIGluZGV4OiBudW1iZXIsIGFycmF5OiBhbnlbXSkgPT4geyByZXR1cm4gdHlwZSA9PSB2YWx1ZS50eXBlOyB9KTtcbiAgICAgIGlmIChmaWx0ZXJlZC5sZW5ndGggPiAwKSByZXR1cm4gZmlsdGVyZWRbMF07XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcHJpdmF0ZSBnZW5lcmF0ZUlucHV0RmllbGQobmFtZTogc3RyaW5nLCB0eXBlOiBzdHJpbmcpIHtcbiAgICAgIGxldCBhSW50OiBzdHJpbmdbXSA9IFtcImludDhcIiwgXCJ1aW50OFwiLCBcImludDE2XCIsIFwidWludDE2XCIsIFwiaW50MzJcIiwgXCJ1aW50MzJcIiwgXCJpbnQ2NFwiLCBcInVpbnQ2NFwiXTtcbiAgICAgIGxldCBhRmxvYXQ6IHN0cmluZ1tdID0gW1wiZmxvYXQzMlwiLCBcImZsb2F0NjRcIl07XG4gICAgICBsZXQgYVN0cmluZzogc3RyaW5nW10gPSBbXCJzdHJpbmdcIl07XG4gICAgICBsZXQgYVRpbWU6IHN0cmluZ1tdID0gW1widGltZVwiLCBcImR1cmF0aW9uXCJdO1xuICAgICAgbGV0IGFCb29sOiBzdHJpbmdbXSA9IFtcImJvb2xcIl07XG5cbiAgICAgIGlmIChhSW50LmluZGV4T2YodHlwZSkgIT0gLTEpIHtcbiAgICAgICAgcmV0dXJuICQoXCI8aW5wdXQgdHlwZT0nbnVtYmVyJyBuYW1lPSdcIiArIG5hbWUgKyBcIicgdmFsdWU9JycgLz5cIikucHJvcCgnb3V0ZXJIVE1MJyk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChhRmxvYXQuaW5kZXhPZih0eXBlKSAhPSAtMSkge1xuICAgICAgICByZXR1cm4gJChcIjxpbnB1dCB0eXBlPSdudW1iZXInIG5hbWU9J1wiICsgbmFtZSArIFwiJyB2YWx1ZT0nJyAvPlwiKS5wcm9wKCdvdXRlckhUTUwnKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGFTdHJpbmcuaW5kZXhPZih0eXBlKSAhPSAtMSkge1xuICAgICAgICByZXR1cm4gJChcIjxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSdcIiArIG5hbWUgKyBcIicgdmFsdWU9JycgLz5cIikucHJvcCgnb3V0ZXJIVE1MJyk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChhVGltZS5pbmRleE9mKHR5cGUpICE9IC0xKSB7XG4gICAgICAgIHJldHVybiAkKFwiPGlucHV0IHR5cGU9J251bWJlcicgbmFtZT0nXCIgKyBuYW1lICsgXCInIHZhbHVlPScnIC8+XCIpLnByb3AoJ291dGVySFRNTCcpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoYUJvb2wuaW5kZXhPZih0eXBlKSAhPSAtMSkge1xuICAgICAgICByZXR1cm4gJChcIjxpbnB1dCB0eXBlPSdjaGVja2JveCcgbmFtZT0nXCIgKyBuYW1lICsgXCInIHZhbHVlPScnIC8+XCIpLnByb3AoJ291dGVySFRNTCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBwcmltaXRpdmUgdHlwZTogXCIgKyB0eXBlKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59IiwiLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHMvdHlwaW5ncy90c2QuZC50c1wiIC8+XG4vKlxuaW1wb3J0IHsgV2lkZ2V0UGFyZW50IH0gZnJvbSAnLi4vLi4vdHMvY2xhc3Ntb2RlbC93aWRnZXQnXG5cbmRlY2xhcmUgdmFyIHJvczogUk9TTElCLlJvcztcblxuY2xhc3MgV2lkZ2V0TmV3V2lkZ2V0IGV4dGVuZHMgV2lkZ2V0UGFyZW50IHtcbiAgY29uc3RydWN0b3Iod2lkZ2V0SW5zdGFuY2VJZDogbnVtYmVyKSB7XG4gICAgc3VwZXIod2lkZ2V0SW5zdGFuY2VJZCk7XG4gICAgdGhpcy50b3BpYyA9IG5ldyBST1NMSUIuVG9waWMoeyByb3M6IHJvcywgbmFtZTogXCJcIiwgbWVzc2FnZVR5cGU6IFwiXCIgfSk7XG4gIH1cblxuICAvLyBQcm9wZXJ0aWVzXG4gIHB1YmxpYyB0b3BpYzogUk9TTElCLlRvcGljO1xuXG4gIC8vIE1hbmRhdG9yeSBjYWxsYmFja3NcbiAgY2xia0NyZWF0ZWQoKTogdm9pZCB7XG4gIH1cbiAgY2xia1Jlc2l6ZWQoKTogdm9pZCB7XG4gIH1cbiAgY2xia01vdmVkKCk6IHZvaWQge1xuICB9XG4gIGNsYmtUYWIoKTogdm9pZCB7XG4gIH1cbiAgY2xia0NvbmZpcm0oKTogdm9pZCB7XG4gIH1cblxuICAvLyBTdWJzY3JpcHRpb24gQ2FsbGJhY2tzXG4gIHB1YmxpYyBvbl90b3BpY19zZWxlY3RlZChzZWxlY3RlZFRvcGljOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnRvcGljLnVuc3Vic2NyaWJlKCk7XG4gICAgdGhpcy50b3BpYy5uYW1lID0gc2VsZWN0ZWRUb3BpYztcbiAgICB2YXIgZWxlbSA9ICQodGhpcy5zZWxlY3RvcikuZmluZChcIi5jb250ZW50XCIpO1xuICAgICQoZWxlbSkuaHRtbChcIlwiKTtcblxuICAgIGlmIChzZWxlY3RlZFRvcGljID09IFwiXCIpIHJldHVybjtcblxuICAgIHJvcy5nZXRUb3BpY1R5cGUoc2VsZWN0ZWRUb3BpYywgKHR5cGUpOiB2b2lkID0+IHtcbiAgICAgIHRoaXMudG9waWMubWVzc2FnZVR5cGUgPSB0eXBlO1xuICAgICAgJCh0aGlzLnNlbGVjdG9yKS5maW5kKFwicC5uYW1lXCIpLmh0bWwoc2VsZWN0ZWRUb3BpYyk7XG4gICAgICAkKHRoaXMuc2VsZWN0b3IpLmZpbmQoXCJwLnR5cGVcIikuaHRtbCh0eXBlKTtcbiAgICAgIHRoaXMudG9waWMuc3Vic2NyaWJlKHRoaXMuY2FsbGJhY2spO1xuICAgIH0sIChlKTogdm9pZCA9PiB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZSk7XG4gICAgfSk7XG4gIH1cblxuICBjYWxsYmFjayA9IChtZXNzYWdlOiBhbnkpOiB2b2lkID0+IHtcbiAgICAkKHRoaXMuc2VsZWN0b3IpLmZpbmQoXCJkaXYuY29udGVudFwiKS5odG1sKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UsIG51bGwsIDQpKTtcbiAgfVxufVxuXG53aW5kb3dbXCJXaWRnZXROZXdXaWRnZXRcIl0gPSBXaWRnZXROZXdXaWRnZXQ7XG4qLyIsIi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3RzL3R5cGluZ3MvdHNkLmQudHNcIiAvPlxuLypcbmltcG9ydCB7IFdpZGdldFBhcmVudCB9IGZyb20gJy4uLy4uL3RzL2NsYXNzbW9kZWwvd2lkZ2V0J1xuXG5kZWNsYXJlIHZhciByb3M6IFJPU0xJQi5Sb3M7XG5cbmNsYXNzIFdpZGdldE5ld1dpZGdldCBleHRlbmRzIFdpZGdldFBhcmVudCB7XG4gIGNvbnN0cnVjdG9yKHdpZGdldEluc3RhbmNlSWQ6IG51bWJlcikge1xuICAgIHN1cGVyKHdpZGdldEluc3RhbmNlSWQpO1xuICAgIHRoaXMudG9waWMgPSBuZXcgUk9TTElCLlRvcGljKHsgcm9zOiByb3MsIG5hbWU6IFwiXCIsIG1lc3NhZ2VUeXBlOiBcIlwiIH0pO1xuICB9XG5cbiAgLy8gUHJvcGVydGllc1xuICBwdWJsaWMgdG9waWM6IFJPU0xJQi5Ub3BpYztcblxuICAvLyBNYW5kYXRvcnkgY2FsbGJhY2tzXG4gIGNsYmtDcmVhdGVkKCk6IHZvaWQge1xuICB9XG4gIGNsYmtSZXNpemVkKCk6IHZvaWQge1xuICB9XG4gIGNsYmtNb3ZlZCgpOiB2b2lkIHtcbiAgfVxuICBjbGJrVGFiKCk6IHZvaWQge1xuICB9XG4gIGNsYmtDb25maXJtKCk6IHZvaWQge1xuICB9XG5cbiAgLy8gU3Vic2NyaXB0aW9uIENhbGxiYWNrc1xuICBwdWJsaWMgb25fdG9waWNfc2VsZWN0ZWQoc2VsZWN0ZWRUb3BpYzogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy50b3BpYy51bnN1YnNjcmliZSgpO1xuICAgIHRoaXMudG9waWMubmFtZSA9IHNlbGVjdGVkVG9waWM7XG4gICAgdmFyIGVsZW0gPSAkKHRoaXMuc2VsZWN0b3IpLmZpbmQoXCIuY29udGVudFwiKTtcbiAgICAkKGVsZW0pLmh0bWwoXCJcIik7XG5cbiAgICBpZiAoc2VsZWN0ZWRUb3BpYyA9PSBcIlwiKSByZXR1cm47XG5cbiAgICByb3MuZ2V0VG9waWNUeXBlKHNlbGVjdGVkVG9waWMsICh0eXBlKTogdm9pZCA9PiB7XG4gICAgICB0aGlzLnRvcGljLm1lc3NhZ2VUeXBlID0gdHlwZTtcbiAgICAgICQodGhpcy5zZWxlY3RvcikuZmluZChcInAubmFtZVwiKS5odG1sKHNlbGVjdGVkVG9waWMpO1xuICAgICAgJCh0aGlzLnNlbGVjdG9yKS5maW5kKFwicC50eXBlXCIpLmh0bWwodHlwZSk7XG4gICAgICB0aGlzLnRvcGljLnN1YnNjcmliZSh0aGlzLmNhbGxiYWNrKTtcbiAgICB9LCAoZSk6IHZvaWQgPT4ge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGUpO1xuICAgIH0pO1xuICB9XG5cbiAgY2FsbGJhY2sgPSAobWVzc2FnZTogYW55KTogdm9pZCA9PiB7XG4gICAgJCh0aGlzLnNlbGVjdG9yKS5maW5kKFwiZGl2LmNvbnRlbnRcIikuaHRtbChKU09OLnN0cmluZ2lmeShtZXNzYWdlLCBudWxsLCA0KSk7XG4gIH1cbn1cblxud2luZG93W1wiV2lkZ2V0TmV3V2lkZ2V0XCJdID0gV2lkZ2V0TmV3V2lkZ2V0O1xuKi8iLCIvLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90cy90eXBpbmdzL3RzZC5kLnRzXCIgLz5cblxuaW1wb3J0IHsgV2lkZ2V0UGFyZW50IH0gZnJvbSAnLi4vLi4vdHMvY2xhc3Ntb2RlbC93aWRnZXQnXG5cbmRlY2xhcmUgdmFyIHJvczogUk9TTElCLlJvcztcblxuY2xhc3MgV2lkZ2V0TmV3V2lkZ2V0IGV4dGVuZHMgV2lkZ2V0UGFyZW50IHtcbiAgY29uc3RydWN0b3Iod2lkZ2V0SW5zdGFuY2VJZDogbnVtYmVyKSB7XG4gICAgc3VwZXIod2lkZ2V0SW5zdGFuY2VJZCk7XG4gICAgdGhpcy50b3BpYyA9IG5ldyBST1NMSUIuVG9waWMoeyByb3M6IHJvcywgbmFtZTogXCJcIiwgbWVzc2FnZVR5cGU6IFwiXCIgfSk7XG4gIH1cblxuICAvLyBQcm9wZXJ0aWVzXG4gIHB1YmxpYyB0b3BpYzogUk9TTElCLlRvcGljO1xuXG4gIC8vIE1hbmRhdG9yeSBjYWxsYmFja3NcbiAgY2xia0NyZWF0ZWQoKTogdm9pZCB7XG4gIH1cbiAgY2xia1Jlc2l6ZWQoKTogdm9pZCB7XG4gIH1cbiAgY2xia01vdmVkKCk6IHZvaWQge1xuICB9XG4gIGNsYmtUYWIoKTogdm9pZCB7XG4gIH1cbiAgY2xia0NvbmZpcm0oKTogdm9pZCB7XG4gIH1cblxuICAvLyBTdWJzY3JpcHRpb24gQ2FsbGJhY2tzXG4gIHB1YmxpYyBvbl90b3BpY19zZWxlY3RlZChzZWxlY3RlZFRvcGljOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnRvcGljLnVuc3Vic2NyaWJlKCk7XG4gICAgdGhpcy50b3BpYy5uYW1lID0gc2VsZWN0ZWRUb3BpYztcbiAgICB2YXIgZWxlbSA9ICQodGhpcy5zZWxlY3RvcikuZmluZChcIi5jb250ZW50XCIpO1xuICAgICQoZWxlbSkuaHRtbChcIlwiKTtcblxuICAgIGlmIChzZWxlY3RlZFRvcGljID09IFwiXCIpIHJldHVybjtcblxuICAgIHJvcy5nZXRUb3BpY1R5cGUoc2VsZWN0ZWRUb3BpYywgKHR5cGUpOiB2b2lkID0+IHtcbiAgICAgIHRoaXMudG9waWMubWVzc2FnZVR5cGUgPSB0eXBlO1xuICAgICAgJCh0aGlzLnNlbGVjdG9yKS5maW5kKFwicC5uYW1lXCIpLmh0bWwoc2VsZWN0ZWRUb3BpYyk7XG4gICAgICAkKHRoaXMuc2VsZWN0b3IpLmZpbmQoXCJwLnR5cGVcIikuaHRtbCh0eXBlKTtcbiAgICAgIHRoaXMudG9waWMuc3Vic2NyaWJlKHRoaXMuY2FsbGJhY2spO1xuICAgIH0sIChlKTogdm9pZCA9PiB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZSk7XG4gICAgfSk7XG4gIH1cblxuICBjYWxsYmFjayA9IChtZXNzYWdlOiBhbnkpOiB2b2lkID0+IHtcbiAgICAkKHRoaXMuc2VsZWN0b3IpLmZpbmQoXCJkaXYuY29udGVudFwiKS5odG1sKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UsIG51bGwsIDQpKTtcbiAgfVxufVxuXG53aW5kb3dbXCJXaWRnZXROZXdXaWRnZXRcIl0gPSBXaWRnZXROZXdXaWRnZXQ7XG4iLCIvLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90cy90eXBpbmdzL3RzZC5kLnRzXCIgLz5cblxuaW1wb3J0IHsgV2lkZ2V0UGFyZW50IH0gZnJvbSAnLi4vLi4vdHMvY2xhc3Ntb2RlbC93aWRnZXQnXG5pbXBvcnQgeyBIZWxwZXIgfSBmcm9tICcuLi8uLi90cy9oZWxwZXJzL2h0bWwnO1xuXG5kZWNsYXJlIHZhciByb3M6IFJPU0xJQi5Sb3M7XG5cbmNsYXNzIFdpZGdldFRvcGljUHVibGlzaGVyIGV4dGVuZHMgV2lkZ2V0UGFyZW50IHtcbiAgY29uc3RydWN0b3Iod2lkZ2V0SW5zdGFuY2VJZDogbnVtYmVyKSB7XG4gICAgc3VwZXIod2lkZ2V0SW5zdGFuY2VJZCk7XG4gICAgdGhpcy50b3BpYyA9IG5ldyBST1NMSUIuVG9waWMoeyByb3M6IHJvcywgbmFtZTogXCJcIiwgbWVzc2FnZVR5cGU6IFwiXCIgfSk7XG4gIH1cbiAgLy8gTWFuZGF0b3J5IGNhbGxiYWNrc1xuICBjbGJrQ3JlYXRlZCgpOiB2b2lkIHtcbiAgICAkKGRvY3VtZW50KS5kZWxlZ2F0ZSh0aGlzLnNlbGVjdG9yICsgXCIgLmpzV2lkZ2V0VG9waWNQdWJsaXNoZXJPbmNlXCIsICdjbGljaycsIChlKSA9PiB7XG4gICAgICAkKHRoaXMuc2VsZWN0b3IpLmZpbmQoXCIuanNXaWRnZXRUb3BpY1B1Ymxpc2hlck9uY2VcIikuYXR0cihcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XG4gICAgICAkKHRoaXMuc2VsZWN0b3IpLmZpbmQoXCIuanNXaWRnZXRUb3BpY1B1Ymxpc2hlclB1Ymxpc2hcIikuYXR0cihcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XG4gICAgICAkKHRoaXMuc2VsZWN0b3IpLmZpbmQoXCIuanNXaWRnZXRUb3BpY1B1Ymxpc2hlclN0b3BcIikuYXR0cihcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XG4gICAgICB0aGlzLnB1Ymxpc2hPbmNlKCk7XG4gICAgICAkKHRoaXMuc2VsZWN0b3IpLmZpbmQoXCIuanNXaWRnZXRUb3BpY1B1Ymxpc2hlck9uY2VcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpO1xuICAgICAgJCh0aGlzLnNlbGVjdG9yKS5maW5kKFwiLmpzV2lkZ2V0VG9waWNQdWJsaXNoZXJQdWJsaXNoXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKTtcbiAgICAgICQodGhpcy5zZWxlY3RvcikuZmluZChcIi5qc1dpZGdldFRvcGljUHVibGlzaGVyU3RvcFwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIik7XG4gICAgfSk7XG4gICAgJChkb2N1bWVudCkuZGVsZWdhdGUodGhpcy5zZWxlY3RvciArIFwiIC5qc1dpZGdldFRvcGljUHVibGlzaGVyUHVibGlzaFwiLCAnY2xpY2snLCAoZSkgPT4ge1xuICAgICAgJCh0aGlzLnNlbGVjdG9yKS5maW5kKFwiLmpzV2lkZ2V0VG9waWNQdWJsaXNoZXJPbmNlXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBcImRpc2FibGVkXCIpO1xuICAgICAgJCh0aGlzLnNlbGVjdG9yKS5maW5kKFwiLmpzV2lkZ2V0VG9waWNQdWJsaXNoZXJQdWJsaXNoXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBcImRpc2FibGVkXCIpO1xuICAgICAgJCh0aGlzLnNlbGVjdG9yKS5maW5kKFwiLmpzV2lkZ2V0VG9waWNQdWJsaXNoZXJTdG9wXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKTtcbiAgICAgIHRoaXMucHVibGlzaCgpO1xuICAgIH0pO1xuICAgICQoZG9jdW1lbnQpLmRlbGVnYXRlKHRoaXMuc2VsZWN0b3IgKyBcIiAuanNXaWRnZXRUb3BpY1B1Ymxpc2hlclN0b3BcIiwgJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICQodGhpcy5zZWxlY3RvcikuZmluZChcIi5qc1dpZGdldFRvcGljUHVibGlzaGVyT25jZVwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIik7XG4gICAgICAkKHRoaXMuc2VsZWN0b3IpLmZpbmQoXCIuanNXaWRnZXRUb3BpY1B1Ymxpc2hlclB1Ymxpc2hcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpO1xuICAgICAgJCh0aGlzLnNlbGVjdG9yKS5maW5kKFwiLmpzV2lkZ2V0VG9waWNQdWJsaXNoZXJTdG9wXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKTtcbiAgICAgIHRoaXMuc3RvcCgpO1xuICAgIH0pO1xuICB9XG4gIGNsYmtSZXNpemVkKCk6IHZvaWQge1xuICB9XG4gIGNsYmtNb3ZlZCgpOiB2b2lkIHtcbiAgfVxuICBjbGJrVGFiKCk6IHZvaWQge1xuICB9XG4gIGNsYmtDb25maXJtKCk6IHZvaWQge1xuICAgIHJvcy5nZXRNZXNzYWdlRGV0YWlscyh0aGlzLnRvcGljVHlwZSwgKHR5cGVEZWZzKSA9PiB7XG4gICAgICB2YXIgZWxlbSA9ICQodGhpcy5zZWxlY3RvciArIFwiIC5mb3JtIGZvcm1cIikuaHRtbChcIlwiKTtcbiAgICAgIGxldCBodG1sSGVscGVyID0gbmV3IEhlbHBlci5Gb3JtSGVscGVyKCk7XG4gICAgICAkKHRoaXMuc2VsZWN0b3IpLmZpbmQoXCJwLm5hbWVcIikuaHRtbCh0aGlzLnRvcGljTmFtZSk7XG4gICAgICAkKHRoaXMuc2VsZWN0b3IpLmZpbmQoXCJwLnR5cGVcIikuaHRtbCh0aGlzLnRvcGljVHlwZSk7XG4gICAgICBodG1sSGVscGVyLnR5cGVEZWZUb0h0bWxGb3JtKGVsZW0sIFwiT2JqZWN0XCIsIFwiZm9ybU9iamVjdFwiLCB0aGlzLnRvcGljVHlwZSwgdHlwZURlZnMsIDApO1xuICAgIH0sIChlcnJvcjogYW55KSA9PiB7XG4gICAgICBhbGVydChcIlRvcGljIHR5cGUgbm90IGZvdW5kLCBwbGVhc2UgdHJ5IGFnYWluXCIpO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gYnV0dG9uIGNhbGxiYWNrc1xuICBwdWJsaXNoT25jZSgpOiB2b2lkIHtcbiAgICBsZXQgb2JqOiBhbnkgPSB0aGlzLmdldE9iamVjdEZvcm0odGhpcy5zZWxlY3RvciArIFwiIC5mb3JtIGZvcm1cIik7XG4gICAgbGV0IG5hbWU6IHN0cmluZyA9IHRoaXMudG9waWNOYW1lO1xuICAgIGxldCBtZXNzYWdlVHlwZTogc3RyaW5nID0gdGhpcy50b3BpY1R5cGU7XG4gICAgbGV0IHB1Ymxpc2hlciA9IG5ldyBST1NMSUIuVG9waWMoe1xuICAgICAgcm9zOiByb3MsXG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgbWVzc2FnZVR5cGU6IG1lc3NhZ2VUeXBlXG4gICAgfSk7XG4gICAgcHVibGlzaGVyLnB1Ymxpc2gob2JqKTtcbiAgfVxuXG4gIHB1YmxpYyBpbnRlcnZhbDogYW55O1xuICBwdWJsaXNoKCk6IHZvaWQge1xuICAgIGxldCBuYW1lOiBzdHJpbmcgPSB0aGlzLnRvcGljTmFtZTtcbiAgICBsZXQgbWVzc2FnZVR5cGU6IHN0cmluZyA9IHRoaXMudG9waWNUeXBlO1xuICAgIGxldCBwdWJsaXNoZXIgPSBuZXcgUk9TTElCLlRvcGljKHtcbiAgICAgIHJvczogcm9zLFxuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIG1lc3NhZ2VUeXBlOiBtZXNzYWdlVHlwZVxuICAgIH0pO1xuICAgIHRoaXMuaW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4geyBwdWJsaXNoZXIucHVibGlzaCh0aGlzLmdldE9iamVjdEZvcm0odGhpcy5zZWxlY3RvciArIFwiIC5mb3JtIGZvcm1cIikpOyB9LCAxMDAwKTtcbiAgfVxuXG4gIHN0b3AoKTogdm9pZCB7XG4gICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XG4gIH1cblxuICAvLyBoZWxwZXIgbWV0aG9kc1xuICBnZXRPYmplY3RGb3JtKHNlbGVjdG9yOiBzdHJpbmcpOiBhbnkge1xuICAgIHZhciBpbnB1dCwgbmFtZSwgdHlwZTtcbiAgICB2YXIgdHJlZTtcbiAgICB2YXIgZm9ybU9iamVjdDogYW55ID0ge307XG4gICAgdmFyIGlucHV0cyA9ICQoc2VsZWN0b3IpLmZpbmQoXCJpbnB1dFt0eXBlPXRleHRdLCBpbnB1dFt0eXBlPWNoZWNrYm94XSwgaW5wdXRbdHlwZT1udW1iZXJdXCIpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpbnB1dCA9IGlucHV0c1tpXTtcbiAgICAgIG5hbWUgPSAkKGlucHV0KS5hdHRyKFwibmFtZVwiKTtcbiAgICAgIHR5cGUgPSAkKGlucHV0KS5hdHRyKFwidHlwZVwiKTtcbiAgICAgIHZhciBuYW1lU3BsaXQgPSBuYW1lLnNwbGl0KCcuJyk7XG4gICAgICBmb3IgKGxldCBqOiBudW1iZXIgPSAwOyBqIDwgbmFtZVNwbGl0Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGxldCBzbGljZSA9IG5hbWVTcGxpdC5zbGljZSgwLCAoaiArIDEpKTtcbiAgICAgICAgbGV0IHByb3A6IHN0cmluZyA9IHNsaWNlLmpvaW4oXCIuXCIpO1xuICAgICAgICBldmFsKFwiaWYoXCIgKyBwcm9wICsgXCIgPT0gdW5kZWZpbmVkKSBcIiArIHByb3AgKyBcIiA9IHt9XCIpO1xuICAgICAgfVxuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICAgIGV2YWwobmFtZSArIFwiID0gJ1wiICsgJChpbnB1dCkudmFsKCkgKyBcIidcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgZXZhbChuYW1lICsgXCIgPSBcIiArIHBhcnNlRmxvYXQoJChpbnB1dCkudmFsKCkpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgICAgIGV2YWwobmFtZSArIFwiID0gXCIgKyAkKGlucHV0KS5pcyhcIjpjaGVja2VkXCIpKSA/IDEgOiAwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZm9ybU9iamVjdDtcbiAgfTtcblxuICAvLyA9PT09PSB3aWRnZXQgcGFyYW1zID09PT09XG4gIHB1YmxpYyB0b3BpY05hbWU6IHN0cmluZztcbiAgcHVibGljIHRvcGljVHlwZTogc3RyaW5nO1xuICBwdWJsaWMgdG9waWM6IFJPU0xJQi5Ub3BpYztcbn1cblxud2luZG93W1wiV2lkZ2V0VG9waWNQdWJsaXNoZXJcIl0gPSBXaWRnZXRUb3BpY1B1Ymxpc2hlcjtcbiJdfQ=="}